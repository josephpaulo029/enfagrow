{"version":3,"sources":["./src/app/reglist/reglist.page.html","./src/app/reglist/reglist.module.ts","./src/app/reglist/reglist.page.scss","./src/app/reglist/reglist.page.ts"],"names":[],"mappings":"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","file":"reglist-reglist-module-es5.js","sourcesContent":["module.exports = \"<ion-content class=\\\"background ion-padding\\\">\\n  <ion-grid>\\n    <ion-row>\\n      <ion-col class=\\\"ion-text-center\\\">\\n        <ion-img class=\\\"displayed\\\" src=\\\"../assets/images/enfagrow_logo.png\\\"></ion-img>\\n      </ion-col>\\n    </ion-row>\\n    <!-- <ion-row  class=\\\"containertext ion-align-items-center\\\">\\n            <ion-col >\\n                <ion-input placeholder=\\\"SEARCH\\\" ></ion-input>\\n            </ion-col>\\n         </ion-row> -->\\n    <ion-button (click)=\\\"exportSqlite()\\\">\\n      EXPORT\\n    </ion-button>\\n    <ion-row class=\\\"containertext ion-align-items-center\\\">\\n      <ion-col>\\n        <ion-list>\\n          <ion-item *ngFor=\\\"let visit; of visitors\\\">\\n            <ion-label>\\n              <h2>{{ visit.names }}</h2>\\n            </ion-label>\\n          </ion-item>\\n        </ion-list>\\n      </ion-col>\\n    </ion-row>\\n    <ion-row>\\n      <ion-col>\\n        <ion-button shape=\\\"round\\\" fill=\\\"outline\\\" color=\\\"Tertiary\\\" class=\\\"ion-float-right\\\" position=\\\"bottom\\\" href=\\\"home\\\">\\n          BACK</ion-button>\\n      </ion-col>\\n    </ion-row>\\n  </ion-grid>\\n</ion-content>\"","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { ReglistPage } from './reglist.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: ReglistPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [ReglistPage]\n})\nexport class ReglistPageModule {}\n","module.exports = \"ion-content.background {\\n  --background: url('enfagrow_background.png') no-repeat fixed center;\\n  background-size: contain; }\\n\\n.displayed {\\n  display: block;\\n  margin-left: auto;\\n  margin-right: auto;\\n  width: 70%;\\n  height: 70%; }\\n\\n.scroll-content {\\n  overflow-y: hidden; }\\n\\nion-button {\\n  color: #2d355e;\\n  border: solid 2px;\\n  border-radius: 20px !important; }\\n\\n.containertext {\\n  width: auto;\\n  height: auto;\\n  margin-left: auto;\\n  margin-right: auto;\\n  border: solid 3px #2d355e;\\n  border-radius: 20px !important;\\n  text-align: center;\\n  background-color: transparent; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9jYXJnYTAyL0RvY3VtZW50cy9pb25pY1Byb2ovX2VuZmEvc3JjL2FwcC9yZWdsaXN0L3JlZ2xpc3QucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUNBO0VBQ0MsbUVBQWE7RUFDWix3QkFBd0IsRUFBQTs7QUFHMUI7RUFDRSxjQUFjO0VBQ2QsaUJBQWlCO0VBQ2pCLGtCQUFrQjtFQUNsQixVQUFVO0VBQ1YsV0FBVyxFQUFBOztBQUdiO0VBQ0ksa0JBQWtCLEVBQUE7O0FBR3RCO0VBQ0UsY0FBYztFQUNkLGlCQUFpQjtFQUNqQiw4QkFBOEIsRUFBQTs7QUErQmhDO0VBQ1EsV0FBVztFQUNYLFlBQVk7RUFDWixpQkFBZ0I7RUFDaEIsa0JBQWtCO0VBQ2xCLHlCQUF5QjtFQUN6Qiw4QkFBOEI7RUFLbEMsa0JBQWtCO0VBQ2xCLDZCQUE2QixFQUFBIiwiZmlsZSI6InNyYy9hcHAvcmVnbGlzdC9yZWdsaXN0LnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIlxuaW9uLWNvbnRlbnQuYmFja2dyb3VuZHtcblx0LS1iYWNrZ3JvdW5kOiB1cmwoLi4vLi4vYXNzZXRzL2ltYWdlcy9lbmZhZ3Jvd19iYWNrZ3JvdW5kLnBuZykgbm8tcmVwZWF0IGZpeGVkIGNlbnRlcjtcbiAgYmFja2dyb3VuZC1zaXplOiBjb250YWluO1xufVxuXG4uZGlzcGxheWVkIHtcbiAgZGlzcGxheTogYmxvY2s7XG4gIG1hcmdpbi1sZWZ0OiBhdXRvO1xuICBtYXJnaW4tcmlnaHQ6IGF1dG87XG4gIHdpZHRoOiA3MCU7XG4gIGhlaWdodDogNzAlO1xufVxuXG4uc2Nyb2xsLWNvbnRlbnQge1xuICAgIG92ZXJmbG93LXk6IGhpZGRlbjtcbn1cblxuaW9uLWJ1dHRvbntcbiAgY29sb3I6ICMyZDM1NWU7XG4gIGJvcmRlcjogc29saWQgMnB4O1xuICBib3JkZXItcmFkaXVzOiAyMHB4ICFpbXBvcnRhbnQ7XG59XG5cblxuLy8gaW9uLWJ1dHRvbntcbi8vICAgICBjb2xvcjogIzJkMzU1ZTtcbi8vIH1cblxuLy8gLmNlbnRlciB7XG4vLyAgIGRpc3BsYXk6IGJsb2NrO1xuLy8gICBtYXJnaW4tbGVmdDogYXV0bztcbi8vICAgbWFyZ2luLXJpZ2h0OiBhdXRvO1xuLy8gICB3aWR0aDogNDAwcHg7XG4vLyAgIGhlaWdodDogNDAwcHg7XG4vLyB9XG5cbi8vIC5idXR0b25wb3NpdGlvbiB7XG4vLyAgICAgcG9zaXRpb246IGZpeGVkO1xuLy8gICAgIGxlZnQ6IDUwcHg7XG4vLyAgICAgYm90dG9tOiA1MHB4O1xuLy8gICAgIHJpZ2h0OiA1MHB4O1xuLy8gfVxuXG4vLyAuY29udGFpbmVyIHtcbi8vICAgICAgICAgd2lkdGg6IDYwMHB4OyBcbi8vICAgICAgICAgbWFyZ2luLWxlZnQ6YXV0bzsgXG4vLyAgICAgICAgIG1hcmdpbi1yaWdodDogYXV0bzsgXG4vLyAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQ7XG4vLyAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xuLy8gfVxuXG4uY29udGFpbmVydGV4dCB7XG4gICAgICAgIHdpZHRoOiBhdXRvOyBcbiAgICAgICAgaGVpZ2h0OiBhdXRvOyBcbiAgICAgICAgbWFyZ2luLWxlZnQ6YXV0bzsgXG4gICAgICAgIG1hcmdpbi1yaWdodDogYXV0bzsgXG4gICAgICAgIGJvcmRlcjogc29saWQgM3B4ICMyZDM1NWU7XG4gICAgICAgIGJvcmRlci1yYWRpdXM6IDIwcHggIWltcG9ydGFudDtcbiAgICAvLyBwYWRkaW5nLWxlZnQ6IDEwcHg7XG4gICAgLy8gcGFkZGluZy1yaWdodDogMTBweDtcbiAgICAvLyBwYWRkaW5nLWJvdHRvbTogNXB4O1xuICAgIC8vIHBhZGRpbmctdG9wOiA1cHg7XG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgIGJhY2tncm91bmQtY29sb3I6IHRyYW5zcGFyZW50O1xufVxuXG5cblxuXG4iXX0= */\"","import { Component, OnInit } from '@angular/core';\nimport { Storage } from '@ionic/storage';\nimport { DatabaseService, Dev } from './../services/database.service';\nimport { Observable } from 'rxjs';\nimport { Platform } from '@ionic/angular';\nimport { SocialSharing } from '@ionic-native/social-sharing/ngx';\nimport { File } from '@ionic-native/file/ngx';\n@Component({\n  selector: 'app-reglist',\n  templateUrl: './reglist.page.html',\n  styleUrls: ['./reglist.page.scss'],\n})\nexport class ReglistPage implements OnInit {\n\n  // visitors: Observable<any[]>;\n  visitors = [];\n  forCSV = [];\n\n  jsonData = [\n    {\n      prcid: '001',\n      name: \"Anil Singh\",\n    },\n    {\n      prcid: '002',\n      name: 'Reena Singh',\n    },\n    {\n      prcid: '003',\n      name: 'Aradhya',\n    },\n  ];\n\n  constructor(\n    public storage: Storage,\n    private db: DatabaseService,\n    private plt: Platform,\n    private socialSharing: SocialSharing,\n    private file: File,\n\n  ) { }\n\n  ngOnInit() {\n    this.db.getDatabaseState().subscribe(rdy => {\n      if (rdy) {\n        this.db.getList().subscribe(data => {\n          console.log(data)\n          data.forEach(element => {\n            if (element.useragree == 0) {\n              this.visitors.push(element)\n              let csvData;\n              csvData = {\n                prcid: element.prcid,\n                name: element.names\n              }\n              this.forCSV.push(csvData)\n            }\n          });\n          // this.visitors = data;\n          console.log(this.visitors)\n          console.log(this.forCSV)\n\n\n        })\n      }\n    });\n  }\n\n  downloadFile(data, filename = \"data\") {\n    let csvData = this.ConvertToCSV(data, [\n      \"prcid\",\n      \"name\",\n    ]);\n    console.log(csvData);\n\n    let blob = new Blob([\"\\ufeff\" + csvData], {\n      type: \"text/csv;charset=utf-8;\"\n    });\n    console.log(blob)\n\n\n    let dwldLink = document.createElement(\"a\");\n    let url = URL.createObjectURL(blob);\n    console.log(url)\n\n\n\n    let isSafariBrowser =\n      navigator.userAgent.indexOf(\"Safari\") != -1 &&\n      navigator.userAgent.indexOf(\"Chrome\") == -1;\n    if (isSafariBrowser) {\n      //if Safari open in new window to save file with random filename.\n      dwldLink.setAttribute(\"target\", \"_blank\");\n    }\n    dwldLink.setAttribute(\"href\", url);\n    dwldLink.setAttribute(\"download\", filename + \".csv\");\n    console.log(dwldLink)\n\n    dwldLink.style.visibility = \"hidden\";\n    document.body.appendChild(dwldLink);\n    // dwldLink.click();\n    // document.body.removeChild(dwldLink);\n  }\n\n  ConvertToCSV(objArray, headerList) {\n    let array = typeof objArray != \"object\" ? JSON.parse(objArray) : objArray;\n    let str = \"\";\n    let row = \"No,\";\n\n    for (let index in headerList) {\n      row += headerList[index] + \",\";\n    }\n    row = row.slice(0, -1);\n    str += row + \"\\r\\n\";\n    for (let i = 0; i < array.length; i++) {\n      let line = i + 1 + \"\";\n      for (let index in headerList) {\n        let head = headerList[index];\n\n        line += \",\" + array[i][head];\n      }\n      str += line + \"\\r\\n\";\n    }\n    return str;\n  }\n\n  exportSqlite() {\n    // this.downloadFile(this.jsonData, 'enfagrowAttendees');\n    let csvData = this.ConvertToCSV(this.forCSV, [\n      \"prcid\",\n      \"name\",\n    ]);\n\n    console.log(csvData)\n\n    if (this.plt.is('cordova')) {\n      this.file.writeFile(this.file.dataDirectory, 'enfagrowAttendees.csv', csvData, { replace: true }).then(res => {\n        this.socialSharing.share(null, null, res.nativeURL, null).then(e => {\n          // Success\n        }).catch(e => {\n          console.log('Share failed:', e)\n        });\n      }, err => {\n        alert('Error: ' + err)\n        console.log('Error: ', err);\n      });\n\n    } else {\n      // Dummy implementation for Desktop download purpose\n      // var blob = new Blob([csv]);\n      // var a = window.document.createElement('a');\n      // a.href = window.URL.createObjectURL(blob);\n      // a.download = 'newdata.csv';\n      // document.body.appendChild(a);\n      // a.click();\n      // document.body.removeChild(a);\n    }\n  }\n\n}\n"],"sourceRoot":""}